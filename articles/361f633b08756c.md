---
title: "ã€Laravel + jQuery ã€‘BlockUIãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§éåŒæœŸé€šä¿¡ä¸­ã®ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã‚’è¡¨ç¤ºã™ã‚‹"
emoji: "ğŸ“–"
type: "tech"
topics:
  - "jquery"
  - "laravel"
  - "api"
  - "ajax"
published: true
published_at: "2022-02-16 01:10"
---

# æ¦‚è¦

`Ajax`ã‚’åˆ©ç”¨ã—ãŸéåŒæœŸé€šä¿¡ã§`jQuery BlockUI Plugin`ã‚’åˆ©ç”¨ã—ãŸã®ã§ç´¹ä»‹ã—ã¾ã™

## `BlockUI`ã«ã¤ã„ã¦

http://malsup.com/jquery/block/#overview

> jQuery BlockUI Pluginã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€AJAXä½¿ç”¨æ™‚ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ãƒ­ãƒƒã‚¯ã™ã‚‹ã“ã¨ãªãã€åŒæœŸå‹•ä½œã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™[1]ã€‚ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’æœ‰åŠ¹ã«ã™ã‚‹ã¨ã€ç„¡åŠ¹åŒ–ã•ã‚Œã‚‹ã¾ã§ã€ãƒšãƒ¼ã‚¸ï¼ˆã¾ãŸã¯ãƒšãƒ¼ã‚¸ã®ä¸€éƒ¨ï¼‰ã«å¯¾ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ“ä½œã‚’é˜»æ­¢ã—ã¾ã™ã€‚BlockUIã¯ã€DOMã«è¦ç´ ã‚’è¿½åŠ ã—ã¦ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ã®å¯¾è©±ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹å¤–è¦³ã¨å‹•ä½œã®ä¸¡æ–¹ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2022-02-16 0.46.27.png](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/555632/f0537f53-ea7a-0d3b-bfcf-095460eb1a4d.png)





# ã‚„ã‚Šæ–¹

## `CDN`ã‚’`<script>`ã‚¿ã‚°ã§èª­ã¿è¾¼ã‚€


https://developers.google.com/speed/libraries

https://cdnjs.com/libraries/jquery.blockUI

```php:index.blade.php
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="http://malsup.github.io/jquery.blockUI.js"></script>
```

## `BlockUI`ã®è¨­å®š

`$.blockUI()`ã§ç”»é¢ã‚’ãƒ­ãƒƒã‚¯ã—ã¾ã™

kakuã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«ã¤ã„ã¦ã¯ä»¥ä¸‹ã‚’å‚ç…§ã—ã¦ãã ã•ã„

http://malsup.com/jquery/block/#options


```js:index.js
/**
 * BlockUI
 * ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ»ç”»é¢ãƒ–ãƒ­ãƒƒã‚¯
 */
function ajaxBlockUi(message) {
    $.blockUI({
        message: message,
        css: {
            border: 'none',
            padding: '15px',
            backgroundColor: '#000',
            '-webkit-border-radius': '10px',
            '-moz-border-radius': '10px',
            opacity: .5,
            color: '#fff'
        }
    });
}
```

## éåŒæœŸé€šä¿¡å‡¦ç†

```js:index.js
const AJAX_WAIT_MESSAGES = {DEMO: "Please wait..."}
const API_DEMO = '/api/hoge';

/**
 * @summary éåŒæœŸé€šä¿¡ãƒ‡ãƒ¢
 */
$(document).on('click', '#demo', function (e) {
    // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°é–‹å§‹
    ajaxBlockUi(AJAX_WAIT_MESSAGES.DEMO);

    $.ajax({
        type: "POST",
        url: API_DEMO,
        data: {id: 1},
        dataType: "json",
        scriptCharset: 'utf-8'
    }).then(function (data) {
        console.log('å®Œäº†ã—ãŸã‚ˆ');

        // ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çµ‚äº†
        $.unblockUI();
    }, function (XMLHttpRequest, textStatus, errorThrown) {
        console.log("get_staff_list failed");
        console.log("XMLHttpRequest : " + XMLHttpRequest.status);
        console.log("textStatus     : " + textStatus);
        console.log("errorThrown    : " + errorThrown.message);

        //ã€€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çµ‚äº†
        $.unblockUI();
    });
});
```

# æœ€å¾Œã«

èª­ã‚“ã§ã„ãŸã ãã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚
ä»Šå›ã®è¨˜äº‹ã¯ã„ã‹ãŒã§ã—ãŸã‹ï¼Ÿ
ãƒ»ã“ã†ã„ã†è¨˜äº‹ãŒèª­ã¿ãŸã„
ãƒ»ã“ã†ã„ã†ã¨ã“ã‚ãŒè‰¯ã‹ã£ãŸ
ãƒ»ã“ã†ã—ãŸæ–¹ãŒè‰¯ã„ã®ã§ã¯ãªã„ã‹
ãªã©ãªã©ã€ç‡ç›´ãªã”æ„è¦‹ã‚’å‹Ÿé›†ã—ã¦ãŠã‚Šã¾ã™ã€‚
